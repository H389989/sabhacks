local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local event = ReplicatedStorage:WaitForChild("TakeAllItems")

-- GUI
local gui = Instance.new("ScreenGui", player.PlayerGui)
gui.Name = "BuiltInExploit"

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 300, 0, 240)
frame.Position = UDim2.new(0.5, -150, 0.5, -120)
frame.BackgroundColor3 = Color3.fromRGB(15,15,15)
frame.Active = true
frame.Draggable = true

-- STATES
local autoSteal = false
local autoDrop = false

-- BUTTON CREATOR
local function makeButton(text, y, callback)
	local b = Instance.new("TextButton", frame)
	b.Size = UDim2.new(1, -20, 0, 45)
	b.Position = UDim2.new(0, 10, 0, y)
	b.Text = text
	b.Font = Enum.Font.Code
	b.TextSize = 16
	b.BackgroundColor3 = Color3.fromRGB(60,60,60)
	b.TextColor3 = Color3.new(1,1,1)
	b.MouseButton1Click:Connect(callback)
	return b
end

-- STATUS LABEL
local status = Instance.new("TextLabel", frame)
status.Size = UDim2.new(1, -20, 0, 30)
status.Position = UDim2.new(0, 10, 0, 190)
status.BackgroundTransparency = 1
status.Font = Enum.Font.Code
status.TextSize = 14
status.TextColor3 = Color3.fromRGB(255,255,255)
status.Text = "AUTO窶全TEAL: OFF | AUTO窶船ROP: OFF"

local function updateStatus()
	status.Text =
		("AUTO窶全TEAL: %s | AUTO窶船ROP: %s")
		:format(autoSteal and "ON" or "OFF", autoDrop and "ON" or "OFF")
end

-- 沐ｴ AUTO STEAL TOGGLE
makeButton("沐ｴ TOGGLE AUTO窶全TEAL", 15, function()
	autoSteal = not autoSteal
	updateStatus()

	if autoSteal then
		task.spawn(function()
			while autoSteal do
				event:FireServer("steal")
				task.wait(1)
			end
		end)
	end
end)

-- 沺｣ AUTO DROP TOGGLE
makeButton("沺｣ TOGGLE AUTO窶船ROP", 70, function()
	autoDrop = not autoDrop
	updateStatus()

	if autoDrop then
		task.spawn(function()
			while autoDrop do
				event:FireServer("drop")
				task.wait(1)
			end
		end)
	end
end)

-- 笞｡ MANUAL BUTTONS
makeButton("笞｡ STEAL ONCE", 125, function()
	event:FireServer("steal")
end)

makeButton("笞｡ DROP ONCE", 160, function()
	event:FireServer("drop")
end)
