local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local equipEvent = ReplicatedStorage:WaitForChild("EquipDragon")

local function fixButtons()
	for _, obj in ipairs(playerGui:GetDescendants()) do
		-- BUTTON THAT USED TO ASK FOR ROBUX
		if obj:IsA("TextButton") then
			-- Replace buy text
			if string.find(string.lower(obj.Text), "buy") 
			or string.find(string.lower(obj.Text), "robux") then
				obj.Text = "Owned"
				obj.Active = false
				obj.AutoButtonColor = false
			end

			-- Real equip button
			if string.lower(obj.Text) == "equip" then
				obj.Visible = true
				obj.Active = true
				obj.AutoButtonColor = true

				if not obj:GetAttribute("Hooked") then
					obj:SetAttribute("Hooked", true)

					obj.MouseButton1Click:Connect(function()
						equipEvent:FireServer()
						obj.Text = "Equipped"
					end)
				end
			end
		end
	end
end

fixButtons()

playerGui.DescendantAdded:Connect(function()
	task.wait()
	fixButtons()
end)
